<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contingency table API · CausalityTools.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.png" alt="CausalityTools.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.png" alt="CausalityTools.jl logo"/></a><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Overview</a></li><li><a class="tocitem" href="../../measures/">Association measures</a></li><li><a class="tocitem" href="../../independence/">Independence testing</a></li><li><a class="tocitem" href="../../causal_graphs/">Causal graphs</a></li><li><a class="tocitem" href="../">APIs and estimators</a></li><li><a class="tocitem" href="../../examples/">Examples</a></li><li><a class="tocitem" href="../../coupled_systems/">Predefined systems</a></li><li><a class="tocitem" href="../../experimental/">Experimental</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Contingency table API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contingency table API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/CausalityTools.jl/blob/master/docs/src/api/api_contingency_table.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="contingency_table_api"><a class="docs-heading-anchor" href="#contingency_table_api">Contingency table API</a><a id="contingency_table_api-1"></a><a class="docs-heading-anchor-permalink" href="#contingency_table_api" title="Permalink"></a></h1><p>To estimate discrete information theoretic quantities that are functions of more than one variable, we must estimate empirical joint probability mass functions (pmf). The function <a href="#CausalityTools.contingency_matrix"><code>contingency_matrix</code></a> accepts an arbitrary number of equal-length input data and returns the corresponding multidimensional contingency table as a <a href="#CausalityTools.ContingencyMatrix"><code>ContingencyMatrix</code></a>. From this table, we can extract the necessary joint and marginal pmfs for computing any discrete function of multivariate discrete probability distributions. This is essentially the multivariate analogue of <a href="../api_probabilities/#ComplexityMeasures.Probabilities"><code>Probabilities</code></a>.</p><p>But why would I use a <a href="#CausalityTools.ContingencyMatrix"><code>ContingencyMatrix</code></a> instead of some other indirect estimation method, you may ask. The answer is that <a href="#CausalityTools.ContingencyMatrix"><code>ContingencyMatrix</code></a> allows you to compute <em>any</em> of the information theoretic quantities offered in this package for <em>any</em> type of input data. You input data can literally be any hashable type, for example <code>String</code>, <code>Tuple{Int, String, Int}</code>, or <code>YourCustomHashableDataType</code>.</p><p>In the case of numeric data, using a <a href="#CausalityTools.ContingencyMatrix"><code>ContingencyMatrix</code></a> is typically a bit slower than other dedicated estimation procedures. For example, quantities like discrete Shannon-type <a href="../api_condmutualinfo/#CausalityTools.condmutualinfo"><code>condmutualinfo</code></a> are faster to estimate using a formulation based on sums of four entropies (the H4-principle). This is faster because we can both utilize the blazingly fast <a href="../../#StateSpaceSets.StateSpaceSet"><code>StateSpaceSet</code></a> structure directly, and we can avoid <em>explicitly</em> estimating the entire joint pmf, which demands many extra calculation steps. Whatever you use in practice depends on your use case and available estimation methods, but you can always fall back to contingency matrices for any discrete measure.</p><article class="docstring"><header><a class="docstring-binding" id="CausalityTools.ContingencyMatrix" href="#CausalityTools.ContingencyMatrix"><code>CausalityTools.ContingencyMatrix</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ContingencyMatrix{T, N} &lt;: Probabilities{T, N}
ContingencyMatrix(frequencies::AbstractArray{Int, N})</code></pre><p>A contingency matrix is essentially a multivariate analogue of <a href="../api_probabilities/#ComplexityMeasures.Probabilities"><code>Probabilities</code></a> that also keep track of raw frequencies.</p><p>The contingency matrix can be constructed directyly from an <code>N</code>-dimensional <code>frequencies</code> array. Alternatively, the <a href="#CausalityTools.contingency_matrix"><code>contingency_matrix</code></a> function performs counting for you; this works on both raw categorical data, or by first discretizing data using a a <a href="../api_probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a>.</p><p><strong>Description</strong></p><p>A <code>ContingencyMatrix</code> <code>c</code> is just a simple wrapper around around <code>AbstractArray{T, N}</code>. Indexing <code>c</code> with multiple indices <code>i, j, …</code> returns the <code>(i, j, …)</code>th element of the empirical probability mass function (pmf). The following convencience methods are defined:</p><ul><li><code>frequencies(c; dims)</code> returns the multivariate raw counts along the given `dims   (default to all available dimensions).</li><li><code>probabilities(c; dims)</code> returns a multidimensional empirical   probability mass function (pmf) along the given <code>dims</code> (defaults to all available   dimensions), i.e. the normalized counts.</li><li><code>probabilities(c, i::Int)</code> returns the marginal probabilities for the <code>i</code>-th dimension.</li><li><code>outcomes(c, i::Int)</code> returns the marginal outcomes for the <code>i</code>-th dimension.</li></ul><p><strong>Ordering</strong></p><p>The ordering of outcomes are internally consistent, but we make no promise on the ordering of outcomes relative to the input data. This means that if your input data are <code>x = rand([&quot;yes&quot;, &quot;no&quot;], 100); y = rand([&quot;small&quot;, &quot;medium&quot;, &quot;large&quot;], 100)</code>, you&#39;ll get a 2-by-3 contingency matrix, but there currently no easy way to determine which outcome the i-j-th row/column of this matrix corresponds to.</p><p>Since <a href="#CausalityTools.ContingencyMatrix"><code>ContingencyMatrix</code></a> is intended for use in information theoretic methods that don&#39;t care about ordering, as long as the ordering is internally consistent, this is not an issue for practical applications in this package. This may change in future releases.</p><p><strong>Usage</strong></p><p>Contingency matrices is used in the computation of discrete versions of the following quantities:</p><ul><li><a href="api/@ref"><code>entropy_joint</code></a>.</li><li><a href="../api_mutualinfo/#CausalityTools.mutualinfo"><code>mutualinfo</code></a>.</li><li><a href="../api_condmutualinfo/#CausalityTools.condmutualinfo"><code>condmutualinfo</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/CausalityTools.jl/blob/133feaa3245189c983e1077b0d61ced2aebf636d/src/contingency_matrices.jl#L17-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CausalityTools.contingency_matrix" href="#CausalityTools.contingency_matrix"><code>CausalityTools.contingency_matrix</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">contingency_matrix(x, y, [z, ...]) → c::ContingencyMatrix
contingency_matrix(est::ProbabilitiesEstimator, x, y, [z, ...]) → c::ContingencyMatrix</code></pre><p>Estimate a multidimensional contingency matrix <code>c</code> from input data <code>x, y, …</code>, where the input data can be of any and different types, as long as <code>length(x) == length(y) == …</code>.</p><p>For already discretized data, use the first method. For continuous data, you want to discretize the data before computing the contingency table. You can do this manually and then use the first method. Alternatively, you can provide a <a href="../api_probabilities/#ComplexityMeasures.ProbabilitiesEstimator"><code>ProbabilitiesEstimator</code></a> as the first argument to the constructor. Then the input variables <code>x, y, …</code> are discretized <em>separately</em> according to <code>est</code> (<em>enforcing the same outcome space for all variables</em>), by calling <a href="#CausalityTools.marginal_encodings"><code>marginal_encodings</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/CausalityTools.jl/blob/133feaa3245189c983e1077b0d61ced2aebf636d/src/contingency_matrices.jl#L97-L111">source</a></section></article><h2 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CausalityTools.marginal_encodings" href="#CausalityTools.marginal_encodings"><code>CausalityTools.marginal_encodings</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">marginal_encodings(est::ProbabilitiesEstimator, x::VectorOrStateSpaceSet...)</code></pre><p>Encode/discretize each input vector <code>xᵢ ∈ x</code> according to a procedure determined by <code>est</code>. Any <code>xᵢ ∈ X</code> that are multidimensional (<a href="../../#StateSpaceSets.StateSpaceSet"><code>StateSpaceSet</code></a>s) will be encoded column-wise, i.e. each column of <code>xᵢ</code> is treated as a timeseries and is encoded separately.</p><p>This is useful for computing any discrete information theoretic quantity, and is used internally by <a href="#CausalityTools.contingency_matrix"><code>contingency_matrix</code></a>.</p><p><strong>Supported estimators</strong></p><ul><li><a href="../api_probabilities/#ComplexityMeasures.ValueHistogram"><code>ValueHistogram</code></a>. Bin visitation frequencies are counted in the joint space <code>XY</code>,   then marginal visitations are obtained from the joint bin visits.   This behaviour is the same for both <a href="../api_probabilities/#ComplexityMeasures.FixedRectangularBinning"><code>FixedRectangularBinning</code></a> and   <a href="../api_probabilities/#ComplexityMeasures.RectangularBinning"><code>RectangularBinning</code></a> (which adapts the grid to the data).   When using <a href="../api_probabilities/#ComplexityMeasures.FixedRectangularBinning"><code>FixedRectangularBinning</code></a>, the range along the first dimension   is used as a template for all other dimensions.</li><li><a href="../api_probabilities/#ComplexityMeasures.SymbolicPermutation"><code>SymbolicPermutation</code></a>. Each timeseries is separately <a href="../api_probabilities/#ComplexityMeasures.encode"><code>encode</code></a>d according   to its ordinal pattern.</li><li><a href="../api_probabilities/#ComplexityMeasures.Dispersion"><code>Dispersion</code></a>. Each timeseries is separately <a href="../api_probabilities/#ComplexityMeasures.encode"><code>encode</code></a>d according to its   dispersion pattern.</li></ul><p>Many more implementations are possible. Each new implementation gives one new way of estimating the <a href="#CausalityTools.ContingencyMatrix"><code>ContingencyMatrix</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/CausalityTools.jl/blob/133feaa3245189c983e1077b0d61ced2aebf636d/src/methods/infomeasures/marginal_encodings.jl#L4-L29">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 5 April 2023 14:02">Wednesday 5 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
